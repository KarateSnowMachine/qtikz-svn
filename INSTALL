The following are required for compilation:
- an ordinary C++ development environment (g++, make, C++ libraries and
  headers, ...)
- cmake (if you want to install the KPart)
- a standard LaTeX environment
- a Qt 4 development environment (libraries, headers, qmake, ...): only
  QtCore, QtGui and QtXml are required, at least in version 4.4
- the poppler-qt4 libraries and headers
- the kdelibs development environment (only if you want KDE integration
  and the KPart), at least in version 4.3
- the LaTeX pgf package (which includes TikZ)
- the LaTeX preview package

In Ubuntu you would obtain those by installing the following packages:
- build-essential
- cmake (if you want to install the KPart)
- libqt4-dev
- qt4-dev-tools
- libpoppler-qt4-dev
- kdelibs5-dev (only if you want KDE integration and the KPart)
- pgf
- preview-latex-style

Install using qmake (only the Qt-only (qtikz) and the KDE (ktikz) application):
-------------------------------------------------------------------------------

Note: if you want to compile the KPart, then you should use the procedure
with cmake given below instead of this procedure.

1. Edit the paths in conf.pri
If you want to install the Qt-only version of ktikz, then hide the line
  CONFIG += usekde
in conf.pri (i.e. add a # at the beginning of the line). This will create
an executable named qtikz. If you want to install the KDE version, then
unhide that line (i.e. remove all # at the beginning of the line). This
will create an executable named ktikz.
2. Run the following commands:
  mkdir buildqt
  cd buildqt
  qmake ../ktikz.pro
  make
  sudo make install

Note that qmake will tell you where the files will be installed. If
you don't like the installation directories, you can change them in
the file conf.pri before running make.

Make sure to make the changes in conf.pri before running make and
make also sure to run "lrelease src.pro" in the src directory or
alternatively run "make translations" in the main directory, otherwise
the translation files will not be installed correctly.

Install using cmake (only the KDE (ktikz) application and the KPart):
---------------------------------------------------------------------

Run the following commands (this will create an executable named ktikz
and a KPart which will be loaded when clicking a *.pgf or *.tikz file
in Konqueror):
  mkdir build
  cd build
  cmake -DCMAKE_INSTALL_PREFIX=`kde4-config --prefix` ..
  make
  sudo make install

Because a new mimetype (text/x-pgf) is added to the system, as a user one
may additionally have to run
  kbuildsycoca4
or restart KDE so that konqueror uses the KPart for this mimetype.

In order to uninstall ktikz run the following commands in the build directory
(the paths in the last two commands depend of course on where the files were
installed, see the output of the make uninstall command for the correct paths):
  sudo make uninstall
  sudo update-mime-database /usr/share/mime
  sudo rm /usr/share/doc/kde/HTML/en/ktikz/common
  sudo rmdir /usr/share/doc/kde/HTML/en/ktikz/ /usr/share/kde4/apps/ktikz*/* /usr/share/kde4/apps/ktikz*
